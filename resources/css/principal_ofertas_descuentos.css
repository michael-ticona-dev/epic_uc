/* =====================================================================
   OFERTAS – EPIC-UC (hero + filtros + grid + micro-interacciones)
   ===================================================================== */
/* Si ya tienes tu variables globales, impórtalas aquí: */
@import './variables_no_toques_xd.css';

:root{
  --alto-header: 72px;
}

/* ------- Reset básico ------- */
*{ box-sizing:border-box; }
img{ max-width:100%; display:block; }

/* ------- Layout ------- */
.contenedor{ width:min(1240px,92%); margin-inline:auto; }

/* ====== HERO ====== */
.seccion_ofertas{
  position:relative;
  padding: var(--spacing-10) 0 var(--spacing-16);
  background:
    radial-gradient(1400px 800px at 100% -10%, color-mix(in oklab, var(--primary) 14%, transparent) 0%, transparent 55%),
    radial-gradient(900px 600px at 0% -20%, color-mix(in oklab, var(--accent) 10%, transparent) 0%, transparent 55%),
    var(--bg);
}

.encabezado_seccion{ margin-bottom: var(--spacing-8); }

.hero_ofertas{
  display:grid;
  grid-template-columns: 1.1fr .9fr;
  gap: var(--spacing-8);
  padding: var(--spacing-6);
  border:1px solid var(--border);
  border-radius: var(--radius-3xl);
  background: color-mix(in oklab, var(--surface) 92%, transparent);
  box-shadow: var(--shadow-sm);
  overflow:hidden;
}

.hero_textos{ display:grid; gap: var(--spacing-4); align-content:center; }
.titulo_seccion{ font-size: clamp(1.9rem, 3.4vw, 2.6rem); font-weight:900; letter-spacing:-.02em; }
.subtitulo_seccion{ color:var(--text-secondary); font-size:1.05rem; }

.hero_imagen{
  position:relative; border-radius: var(--radius-2xl); overflow:hidden;
  isolation:isolate;
}
.hero_imagen img{ width:100%; height:100%; object-fit:cover; aspect-ratio:16/9; transform:scale(1.02); transition:transform .8s cubic-bezier(.2,.8,.2,1); }
.hero_ofertas:hover .hero_imagen img{ transform:scale(1.06); }
.hero_imagen::after{
  content:""; position:absolute; inset:0;
  background:linear-gradient(180deg, rgba(0,0,0,.0), rgba(0,0,0,.35));
  pointer-events:none;
}

/* -- contador -- */
.contador_wrapper{ display:grid; gap:8px; align-items:center; width:max-content; }
.contador_titulo{ font-weight:800; font-size:.8rem; color:var(--text-secondary); text-transform:uppercase; letter-spacing:.06em; }
.contador{ display:flex; align-items:center; gap:8px; }
.contador .box{
  display:grid; place-items:center;
  width:60px; aspect-ratio:1/1;
  border-radius: var(--radius-xl);
  background: var(--surface-2);
  border:1px solid var(--border);
  box-shadow: var(--shadow-sm);
}
.contador .num{ font-weight:900; font-size:1.2rem; }
.contador .lbl{ font-size:.7rem; color:var(--text-secondary); margin-top:-4px; }
.contador .sep{ opacity:.7; font-weight:900; }

/* ====== CONTROLES / FILTROS ====== */
.controles_ofertas{
  position:sticky; top: calc(var(--alto-header) + 10px); z-index:10;
  display:grid; gap: var(--spacing-3);
  margin-bottom: var(--spacing-6);
}

.filtros_ofertas{
  display:grid; gap: var(--spacing-4);
  padding: var(--spacing-4);
  border:1px solid var(--border);
  border-radius: var(--radius-3xl);
  background: color-mix(in oklab, var(--surface) 94%, transparent);
  backdrop-filter: blur(10px);
  box-shadow: var(--shadow-sm);
}

/* fila búsqueda */
.fila_busqueda{ display:flex; gap: var(--spacing-3); }
.campo_busqueda{
  flex:1; height:48px; padding:0 var(--spacing-4);
  border:1px solid var(--border); border-radius: var(--radius-2xl);
  background: var(--surface-2); color:var(--text); outline:none;
}
.campo_busqueda::placeholder{ color:var(--text-muted); }
.btn_buscar{
  height:48px; padding:0 var(--spacing-5);
  border-radius: var(--radius-2xl);
  background: var(--primary); color:var(--text-inverse);
  font-weight:900; border:1px solid var(--primary);
  transition: transform var(--transition-fast), filter var(--transition-fast);
}
.btn_buscar:hover{ transform:translateY(-1px); filter:brightness(1.05); }

/* fila filtros */
.fila_filtros{
  display:grid;
  grid-template-columns: 1fr 2fr 1fr auto;
  gap: var(--spacing-4);
  align-items:end;
}
.grupo .lbl{ display:block; font-size:.8rem; color:var(--text-secondary); margin-bottom:6px; font-weight:800; letter-spacing:.06em; text-transform:uppercase; }

.rango_caja{ display:flex; align-items:center; gap:10px; }
.input_num{
  width:120px; height:44px; padding:0 12px;
  border:1px solid var(--border); border-radius: var(--radius-2xl);
  background: var(--surface-2); color:var(--text); outline:none;
}

.chips{ display:flex; flex-wrap:wrap; gap:8px; max-height:88px; overflow:auto; }
.chip{
  display:inline-flex; align-items:center; gap:8px; padding:8px 12px;
  border:1px solid var(--border); border-radius: var(--radius-full);
  background: rgba(255,255,255,.06); color:var(--text-secondary);
  font-weight:700; cursor:pointer; user-select:none;
  transition: border-color var(--transition-fast), transform var(--transition-fast), color var(--transition-fast), background var(--transition-fast);
}
.chip:hover{ border-color:var(--border-light); color:var(--text); transform:translateY(-1px); }
.chip input{ display:none; }
.chip.activa{ background:var(--primary); color:var(--text-inverse); border-color:var(--primary); box-shadow:var(--glow); }

.select_orden{
  height:44px; padding:0 12px; width:100%;
  border:1px solid var(--border); border-radius: var(--radius-2xl);
  background: var(--surface-2); color:var(--text); outline:none; font-weight:800;
}

.btn_aplicar, .btn_limpiar{
  height:44px; padding:0 var(--spacing-4);
  border-radius: var(--radius-2xl); border:1px solid var(--border);
  font-weight:900; text-decoration:none; display:inline-grid; place-items:center;
}
.btn_aplicar{ background:var(--primary); color:var(--text-inverse); border-color:var(--primary); }
.btn_limpiar{ background:var(--surface-2); color:var(--text); }
.btn_aplicar:hover, .btn_limpiar:hover{ transform:translateY(-1px); }

.resumen_resultados{
  display:flex; flex-wrap:wrap; gap:8px; align-items:center;
  font-size:.95rem; color:var(--text-secondary);
}
.resumen_resultados .cuenta{ font-weight:900; color:var(--text); }
.filtro_badge{
  padding:6px 10px; border:1px solid var(--border); border-radius: var(--radius-full);
  background:rgba(255,255,255,.06); color:var(--text-secondary); font-weight:800; font-size:.8rem;
}

/* ====== GRID ====== */
.grilla_juegos{
  display:grid; grid-template-columns: repeat(12, 1fr);
  gap: var(--spacing-5);
}

.tarjeta_juego{
  grid-column: span 3;
  display:grid; grid-template-rows: auto 1fr;
  border:1px solid var(--border);
  border-radius: var(--radius-3xl);
  background: var(--surface);
  overflow:hidden; text-decoration:none; color:inherit;
  box-shadow: var(--shadow-sm);
  transition: transform var(--transition-fast), box-shadow var(--transition-fast), border-color var(--transition-fast);
}
.tarjeta_juego:hover{ transform:translateY(-4px); box-shadow:var(--shadow-lg); border-color:var(--border-light); }

.tarjeta_cabecera{ position:relative; }
.tarjeta_imagen{ aspect-ratio:16/9; background:var(--surface-2); overflow:hidden; }
.tarjeta_imagen img{ width:100%; height:100%; object-fit:cover; transform:scale(1.02); transition:transform .7s cubic-bezier(.2,.8,.2,1); }
.tarjeta_juego:hover .tarjeta_imagen img{ transform:scale(1.06); }

.insignia_descuento{
  position:absolute; top:10px; left:10px;
  padding:6px 10px; border-radius: var(--radius-full);
  background: rgba(0,0,0,.55); color:#fff; font-weight:900; font-size:.8rem; letter-spacing:.04em;
  border:1px solid var(--border); backdrop-filter: blur(6px);
}

.tarjeta_cuerpo{ display:grid; gap: var(--spacing-3); padding: var(--spacing-4); }
.titulo_juego{ font-weight:900; line-height:1.25; display:-webkit-box; -webkit-line-clamp:2; -webkit-box-orient:vertical; overflow:hidden; }

.etiquetas{ display:flex; flex-wrap:wrap; gap:6px; }
.etiqueta{
  padding:6px 10px; border-radius: var(--radius-md);
  background: rgba(255,255,255,.08); border:1px solid var(--border);
  color:var(--text-secondary); font-size:.8rem; font-weight:700;
}

.meta{ display:flex; gap:8px; align-items:center; }
.rating{
  display:inline-flex; align-items:center; gap:6px;
  padding:6px 10px; border:1px solid var(--border);
  border-radius: var(--radius-full); background: var(--surface-2);
  color:var(--text-secondary); font-weight:800; font-size:.85rem;
}
.chip_timer{
  padding:6px 10px; border-radius: var(--radius-full);
  background: linear-gradient(135deg, rgba(20,240,180,.14), rgba(90,169,255,.16));
  border:1px solid var(--border); color:var(--text-secondary); font-weight:800; font-size:.8rem;
}

.precio_contenedor{
  display:grid; grid-template-columns: 1fr auto; gap: var(--spacing-3); align-items:center;
}
.precio_pila{ display:grid; line-height:1.05; }
.precio_original{ color:var(--text-muted); text-decoration:line-through; font-size:.9rem; }
.precio_final{ font-weight:900; letter-spacing:.2px; }
.precio_unico{ font-weight:900; }
.precio_gratis{ font-weight:900; color:var(--success); }

.btn_agregar{
  height:40px; padding:0 14px; border-radius: var(--radius-2xl);
  background:var(--primary); color:var(--text-inverse); border:1px solid var(--primary);
  font-weight:900; transition:transform var(--transition-fast), filter var(--transition-fast);
}
.btn_agregar:hover{ transform:translateY(-1px); filter:brightness(1.05); }

/* Estados */
.estado_vacio{
  grid-column: 1 / -1;
  border:1px solid var(--border); border-radius: var(--radius-2xl);
  padding: var(--spacing-16); text-align:center; color:var(--text-secondary);
  background: var(--surface);
}

/* Paginación */
.paginacion{
  display:flex; justify-content:center; gap:8px; margin-top: var(--spacing-10);
}
.pagina_btn{
  min-width:42px; height:42px; display:grid; place-items:center; padding:0 12px;
  border-radius: var(--radius-full); border:1px solid var(--border);
  background: var(--surface-2); color:var(--text-secondary);
  font-weight:900; text-decoration:none; transition: transform var(--transition-fast), border-color var(--transition-fast), color var(--transition-fast), background var(--transition-fast);
}
.pagina_btn:hover{ transform:translateY(-1px); border-color:var(--border-light); color:var(--text); }
.pagina_btn.activa{ background:var(--primary); color:var(--text-inverse); border-color:var(--primary); box-shadow:var(--glow); }

/* ====== Responsive ====== */
@media (max-width: 1100px){
  .hero_ofertas{ grid-template-columns:1fr; }
}
@media (max-width: 1280px){
  .tarjeta_juego{ grid-column: span 4; }
}
@media (max-width: 900px){
  .fila_filtros{ grid-template-columns: 1fr; }
  .tarjeta_juego{ grid-column: span 6; }
  .controles_ofertas{ position: static; } /* si NO quieres que los filtros queden sticky en móviles */
}
@media (max-width: 640px){
  .tarjeta_juego{ grid-column: span 12; }
}
